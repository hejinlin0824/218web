{% extends 'base.html' %}

{% block title %}ç™»å½•å®éªŒå®¤{% endblock %}

{# ğŸ”¥ ç™»å½•é¡µä¸éœ€è¦ä¾§è¾¹æ ï¼Œè¦†ç›–ä¸ºç©º #}
{% block sidebar %}{% endblock %}

{% block content_container %}
<div class="col-12">
    {% block content %}
    <style>
        /* === ç™»å½•é¡µä¸“ç”¨æ ·å¼ === */
        
        /* 1. èƒŒæ™¯å®¹å™¨ */
        .login-wrapper {
            min-height: 80vh; /* ä¿è¯åœ¨å„ç§å±å¹•éƒ½æœ‰è¶³å¤Ÿé«˜åº¦ */
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: #f8f9fa; /* æµ…ç°èƒŒæ™¯ï¼Œè¡¬æ‰˜å¡ç‰‡ */
        }

        /* 2. ä¸»å¡ç‰‡ (åŒæ ä¸€ä½“) */
        .login-card {
            background: #fff;
            border-radius: 20px;
            box-shadow: 0 15px 35px rgba(0,0,0,0.1);
            overflow: hidden; /* ä¿è¯åœ†è§’ */
            max-width: 900px;
            width: 100%;
            display: flex;
            flex-wrap: wrap;
        }

        /* 3. å·¦ä¾§å“ç‰ŒåŒº */
        .login-brand-side {
            background: linear-gradient(135deg, #0d6efd 0%, #0043a8 100%);
            color: white;
            padding: 3rem;
            display: flex;
            flex-direction: column;
            justify-content: center;
            position: relative;
            overflow: hidden;
        }
        /* è£…é¥°èƒŒæ™¯åœ†åœˆ */
        .login-brand-side::before {
            content: "";
            position: absolute;
            top: -50px;
            right: -50px;
            width: 200px;
            height: 200px;
            background: rgba(255,255,255,0.1);
            border-radius: 50%;
        }
        .login-brand-side::after {
            content: "";
            position: absolute;
            bottom: -50px;
            left: -50px;
            width: 150px;
            height: 150px;
            background: rgba(255,255,255,0.1);
            border-radius: 50%;
        }

        /* 4. å³ä¾§è¡¨å•åŒº */
        .login-form-side {
            padding: 3rem;
            background: #fff;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        /* ç‰¹æ€§åˆ—è¡¨é¡¹ */
        .feature-item {
            background: rgba(255,255,255,0.1);
            border-radius: 10px;
            padding: 12px 20px;
            margin-bottom: 15px;
            backdrop-filter: blur(5px);
            border: 1px solid rgba(255,255,255,0.2);
            transition: transform 0.2s;
        }
        .feature-item:hover {
            transform: translateX(5px);
            background: rgba(255,255,255,0.2);
        }

        /* å“åº”å¼è°ƒæ•´ */
        @media (max-width: 768px) {
            .login-brand-side { display: none; } /* æ‰‹æœºç«¯éšè—å·¦ä¾§ */
            .login-card { max-width: 400px; }
            .login-form-side { padding: 2rem; }
        }
    </style>

    <div class="login-wrapper py-5">
        <div class="login-card">
            
            <div class="col-md-5 login-brand-side">
                <h2 class="fw-bold mb-4">Web 218 Laboratory</h2>
                <p class="opacity-75 mb-5">
                    æ¢ç´¢æŠ€æœ¯çš„è¾¹ç•Œï¼Œä¸ä¼™ä¼´ä»¬åˆ†äº«ä½ çš„æœ€æ–°å‘ç°ã€‚åŠ å…¥æˆ‘ä»¬ï¼Œå¼€å¯ç§‘ç ”åä½œæ–°ç¯‡ç« ã€‚
                </p>

                <div class="feature-item d-flex align-items-center">
                    <span class="fs-4 me-3">ğŸ”¬</span>
                    <span>æ¢ç´¢ GitHub å¼€æºè¶‹åŠ¿</span>
                </div>
                <div class="feature-item d-flex align-items-center">
                    <span class="fs-4 me-3">ğŸ’¬</span>
                    <span>å‚ä¸æ·±åº¦çš„æŠ€æœ¯è®¨è®º</span>
                </div>
                <div class="feature-item d-flex align-items-center">
                    <span class="fs-4 me-3">ğŸ¤</span>
                    <span>ç»“è¯†å¿—åŒé“åˆçš„ä¼™ä¼´</span>
                </div>
            </div>

            <div class="col-md-7 login-form-side">
                
                <div class="text-center mb-4">
                    <div class="bg-primary bg-opacity-10 text-primary rounded-circle d-inline-flex align-items-center justify-content-center mb-3" style="width: 60px; height: 60px;">
                        <i class="bi bi-person-lock fs-3"></i>
                    </div>
                    <h3 class="fw-bold text-dark">æ¬¢è¿å›æ¥</h3>
                    <p class="text-muted small">è¯·è¾“å…¥æ‚¨çš„è´¦å·å‡­è¯ä»¥ç»§ç»­</p>
                </div>

                {% if form.non_field_errors %}
                    <div class="alert alert-danger border-0 shadow-sm d-flex align-items-center rounded-3 mb-4" role="alert">
                        <i class="bi bi-exclamation-circle-fill me-2 fs-5"></i>
                        <div>
                            {% for error in form.non_field_errors %}
                                <div>{{ error }}</div>
                            {% endfor %}
                        </div>
                    </div>
                {% endif %}

                <form method="post">
                    {% csrf_token %}
                    
                    <div class="form-floating mb-3">
                        <input type="text" name="username" class="form-control bg-light border-0" id="id_username" placeholder="ç”¨æˆ·å/é‚®ç®±" required>
                        <label for="id_username"><i class="bi bi-person me-1"></i> ç”¨æˆ·å / ç”µå­é‚®ç®±</label>
                    </div>

                    <div class="form-floating mb-3">
                        <input type="password" name="password" class="form-control bg-light border-0" id="id_password" placeholder="å¯†ç " required>
                        <label for="id_password"><i class="bi bi-key me-1"></i> å¯†ç </label>
                    </div>

                    <div class="d-flex justify-content-between align-items-center mb-4">
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="rememberMe">
                            <label class="form-check-label small text-muted" for="rememberMe">
                                è®°ä½æˆ‘
                            </label>
                        </div>
                        <a href="{% url 'user_app:password_reset' %}" class="text-decoration-none small fw-bold">å¿˜è®°å¯†ç ï¼Ÿ</a>
                    </div>

                    <div class="d-grid gap-2 mb-4">
                        <button type="submit" class="btn btn-primary btn-lg rounded-pill shadow-sm fw-bold">
                            ç«‹å³ç™»å½• <i class="bi bi-arrow-right ms-1"></i>
                        </button>
                    </div>

                    <div class="text-center small text-muted">
                        è¿˜æ²¡æœ‰è´¦å·ï¼Ÿ 
                        <a href="{% url 'user_app:register' %}" class="fw-bold text-decoration-none text-primary">ç«‹å³æ³¨å†Œç”³è¯·</a>
                    </div>
                </form>
            </div>

        </div>
    </div>
    {% endblock %}
</div>
{% endblock %}