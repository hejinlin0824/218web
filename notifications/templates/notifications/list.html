{% extends 'base.html' %}
{% block title %}æ¶ˆæ¯ä¸­å¿ƒ{% endblock %}

{% block content %}
<div class="row justify-content-center">
    <div class="col-md-8">
        <div class="card shadow-sm">
            <div class="card-header bg-white">
                <h5 class="mb-0">ğŸ”” æ¶ˆæ¯ä¸­å¿ƒ</h5>
            </div>
            <div class="list-group list-group-flush">
                {% for notice in notifications %}
                <a href="{% url 'notifications:read_and_redirect' notice.pk %}" class="list-group-item list-group-item-action {% if not notice.is_read %}bg-light fw-bold{% endif %}">
                    <div class="d-flex w-100 justify-content-between">
                        <small class="text-muted">{{ notice.created_at|timesince }}å‰</small>
                        {% if not notice.is_read %}<span class="badge bg-danger rounded-pill">NEW</span>{% endif %}
                    </div>
                    <p class="mb-1">
                        <span class="text-primary">{{ notice.actor.nickname|default:notice.actor.username }}</span> 
                        
                        {% if notice.verb == 'like' %}
                            â¤ï¸ èµäº†ä½ çš„å¸–å­
                        {% elif notice.verb == 'comment' %}
                            ğŸ’¬ è¯„è®ºäº†ä½ çš„å¸–å­: "{{ notice.content }}"
                        {% elif notice.verb == 'reply' %}
                            â†©ï¸ å›å¤äº†ä½ çš„è¯„è®º: "{{ notice.content }}"
                        {% elif notice.verb == 'follow' %}
                            ğŸ‘¤ å…³æ³¨äº†ä½ 
                        {% elif notice.verb == 'system' %}
                            ğŸ”” {{ notice.content }}
                        {% endif %}
                    </p>
                </a>
                {% empty %}
                <div class="text-center py-4 text-muted">æš‚æ— æ–°æ¶ˆæ¯</div>
                {% endfor %}
            </div>
        </div>
    </div>
</div>
{% endblock %}